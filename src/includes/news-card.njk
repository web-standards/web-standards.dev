{% from 'cover.njk' import cover %}

{% set normalCoverSizes = '(min-width: 1232px) 288px, (min-width: 928px) calc(33.3vw - 4rem), (min-width: 624px) calc(50vw - 3rem), calc(100vw - 2rem)' %}
{% set featuredCoverSizes = '(min-width: 1232px) 592px, (min-width: 928px) calc(66.6vw - 3rem), calc(100vw - 2rem)' %}

{% macro newsCard(news, level, fetchpriority='', featured=false) %}
	<article
		class="news-card"
		{{ 'data-draft' if news.data.draft else '' }}
		{{ 'data-featured' if featured else '' }}
	>
		{{ cover(
			url=news.url,
			sizes=featuredCoverSizes if featured else normalCoverSizes,
			fetchpriority=fetchpriority,
			alt=news.data.alt
		) }}
		<time datetime="{{ news.date | dateISO }}">
			{{- news.date | dateShort -}}
		</time>
		<h{{ level }}>
			<a href="{{ news.url }}">
				{{- news.data.title | markdownInline | safe -}}
			</a>
		</h{{ level }}>
		<p>
			{{- news.data.description -}}
		</p>
	</article>
{% endmacro %}
